{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "628f962b",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import os\n",
    "import pickle\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "from sklearn import __version__ as sklearn_version\n",
    "from sklearn.decomposition import PCA\n",
    "from sklearn.preprocessing import scale\n",
    "from sklearn.model_selection import train_test_split, cross_validate, GridSearchCV, learning_curve\n",
    "from sklearn.preprocessing import StandardScaler, MinMaxScaler\n",
    "from sklearn.dummy import DummyRegressor\n",
    "from sklearn.linear_model import LinearRegression\n",
    "from sklearn.ensemble import RandomForestRegressor, GradientBoostingRegressor\n",
    "from sklearn.metrics import r2_score, mean_squared_error, mean_absolute_error\n",
    "from sklearn.pipeline import make_pipeline\n",
    "from sklearn.impute import SimpleImputer\n",
    "from sklearn.feature_selection import SelectKBest, f_regression\n",
    "from bayes_opt import BayesianOptimization\n",
    "import lightgbm\n",
    "\n",
    "\n",
    "random_seed_number=42\n",
    "np.random.seed(random_seed_number)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "3268495e",
   "metadata": {},
   "outputs": [],
   "source": [
    "df= pd.read_csv('/Users/josephlim/Desktop/Data Science/Capstone Projects/Capstone project- Spotify/Data/Cleaned Data/US_1921_2021_normalized')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "b73c1d49",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>popularity</th>\n",
       "      <th>duration_ms</th>\n",
       "      <th>year</th>\n",
       "      <th>danceability</th>\n",
       "      <th>energy</th>\n",
       "      <th>key</th>\n",
       "      <th>loudness</th>\n",
       "      <th>m_mode</th>\n",
       "      <th>speechiness</th>\n",
       "      <th>acousticness</th>\n",
       "      <th>instrumentalness</th>\n",
       "      <th>liveness</th>\n",
       "      <th>valence</th>\n",
       "      <th>tempo</th>\n",
       "      <th>time_signature</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.94</td>\n",
       "      <td>126903</td>\n",
       "      <td>1922</td>\n",
       "      <td>0.645</td>\n",
       "      <td>0.4450</td>\n",
       "      <td>C</td>\n",
       "      <td>-13.338</td>\n",
       "      <td>major</td>\n",
       "      <td>0.4510</td>\n",
       "      <td>0.674</td>\n",
       "      <td>0.7440</td>\n",
       "      <td>0.151</td>\n",
       "      <td>0.127</td>\n",
       "      <td>104.851</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1.00</td>\n",
       "      <td>98200</td>\n",
       "      <td>1922</td>\n",
       "      <td>0.695</td>\n",
       "      <td>0.2630</td>\n",
       "      <td>C</td>\n",
       "      <td>-22.136</td>\n",
       "      <td>major</td>\n",
       "      <td>0.9570</td>\n",
       "      <td>0.797</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.148</td>\n",
       "      <td>0.655</td>\n",
       "      <td>102.009</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.00</td>\n",
       "      <td>181640</td>\n",
       "      <td>1922</td>\n",
       "      <td>0.434</td>\n",
       "      <td>0.1770</td>\n",
       "      <td>C#</td>\n",
       "      <td>-21.180</td>\n",
       "      <td>major</td>\n",
       "      <td>0.0512</td>\n",
       "      <td>0.994</td>\n",
       "      <td>0.0218</td>\n",
       "      <td>0.212</td>\n",
       "      <td>0.457</td>\n",
       "      <td>130.418</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.00</td>\n",
       "      <td>176907</td>\n",
       "      <td>1922</td>\n",
       "      <td>0.321</td>\n",
       "      <td>0.0946</td>\n",
       "      <td>G</td>\n",
       "      <td>-27.961</td>\n",
       "      <td>major</td>\n",
       "      <td>0.0504</td>\n",
       "      <td>0.995</td>\n",
       "      <td>0.9180</td>\n",
       "      <td>0.104</td>\n",
       "      <td>0.397</td>\n",
       "      <td>169.980</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1.00</td>\n",
       "      <td>163080</td>\n",
       "      <td>1922</td>\n",
       "      <td>0.402</td>\n",
       "      <td>0.1580</td>\n",
       "      <td>D#</td>\n",
       "      <td>-16.900</td>\n",
       "      <td>minor</td>\n",
       "      <td>0.0390</td>\n",
       "      <td>0.989</td>\n",
       "      <td>0.1300</td>\n",
       "      <td>0.311</td>\n",
       "      <td>0.196</td>\n",
       "      <td>103.220</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   popularity  duration_ms  year  danceability  energy key  loudness m_mode  \\\n",
       "0        0.94       126903  1922         0.645  0.4450   C   -13.338  major   \n",
       "1        1.00        98200  1922         0.695  0.2630   C   -22.136  major   \n",
       "2        1.00       181640  1922         0.434  0.1770  C#   -21.180  major   \n",
       "3        1.00       176907  1922         0.321  0.0946   G   -27.961  major   \n",
       "4        1.00       163080  1922         0.402  0.1580  D#   -16.900  minor   \n",
       "\n",
       "   speechiness  acousticness  instrumentalness  liveness  valence    tempo  \\\n",
       "0       0.4510         0.674            0.7440     0.151    0.127  104.851   \n",
       "1       0.9570         0.797            0.0000     0.148    0.655  102.009   \n",
       "2       0.0512         0.994            0.0218     0.212    0.457  130.418   \n",
       "3       0.0504         0.995            0.9180     0.104    0.397  169.980   \n",
       "4       0.0390         0.989            0.1300     0.311    0.196  103.220   \n",
       "\n",
       "   time_signature  \n",
       "0               3  \n",
       "1               1  \n",
       "2               5  \n",
       "3               3  \n",
       "4               4  "
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "333a0bd8",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 586672 entries, 0 to 586671\n",
      "Data columns (total 15 columns):\n",
      " #   Column            Non-Null Count   Dtype  \n",
      "---  ------            --------------   -----  \n",
      " 0   popularity        586672 non-null  float64\n",
      " 1   duration_ms       586672 non-null  int64  \n",
      " 2   year              586672 non-null  int64  \n",
      " 3   danceability      586672 non-null  float64\n",
      " 4   energy            586672 non-null  float64\n",
      " 5   key               586672 non-null  object \n",
      " 6   loudness          586672 non-null  float64\n",
      " 7   m_mode            586672 non-null  object \n",
      " 8   speechiness       586672 non-null  float64\n",
      " 9   acousticness      586672 non-null  float64\n",
      " 10  instrumentalness  586672 non-null  float64\n",
      " 11  liveness          586672 non-null  float64\n",
      " 12  valence           586672 non-null  float64\n",
      " 13  tempo             586672 non-null  float64\n",
      " 14  time_signature    586672 non-null  int64  \n",
      "dtypes: float64(10), int64(3), object(2)\n",
      "memory usage: 67.1+ MB\n"
     ]
    }
   ],
   "source": [
    "df.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1fd44f9b",
   "metadata": {},
   "source": [
    "As we saw in the previous stage, narrowing down on the past ten years gave more insight in the data. We'll focus on data from the past ten years."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "d20c8a8c",
   "metadata": {},
   "outputs": [],
   "source": [
    "years= df['year'].unique()\n",
    "last_ten= years[90:]\n",
    "df_10= df.loc[df['year'].isin(last_ten)]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "64ea3233",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(92194, 15)"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_10.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "45b2ccf3",
   "metadata": {},
   "source": [
    "We also won't need years moving forward."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "fb6a2586",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_noyr= df.drop('year', axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "1ebb6603",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>popularity</th>\n",
       "      <th>duration_ms</th>\n",
       "      <th>danceability</th>\n",
       "      <th>energy</th>\n",
       "      <th>key</th>\n",
       "      <th>loudness</th>\n",
       "      <th>m_mode</th>\n",
       "      <th>speechiness</th>\n",
       "      <th>acousticness</th>\n",
       "      <th>instrumentalness</th>\n",
       "      <th>liveness</th>\n",
       "      <th>valence</th>\n",
       "      <th>tempo</th>\n",
       "      <th>time_signature</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.94</td>\n",
       "      <td>126903</td>\n",
       "      <td>0.645</td>\n",
       "      <td>0.4450</td>\n",
       "      <td>C</td>\n",
       "      <td>-13.338</td>\n",
       "      <td>major</td>\n",
       "      <td>0.4510</td>\n",
       "      <td>0.674</td>\n",
       "      <td>0.7440</td>\n",
       "      <td>0.151</td>\n",
       "      <td>0.127</td>\n",
       "      <td>104.851</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1.00</td>\n",
       "      <td>98200</td>\n",
       "      <td>0.695</td>\n",
       "      <td>0.2630</td>\n",
       "      <td>C</td>\n",
       "      <td>-22.136</td>\n",
       "      <td>major</td>\n",
       "      <td>0.9570</td>\n",
       "      <td>0.797</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.148</td>\n",
       "      <td>0.655</td>\n",
       "      <td>102.009</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.00</td>\n",
       "      <td>181640</td>\n",
       "      <td>0.434</td>\n",
       "      <td>0.1770</td>\n",
       "      <td>C#</td>\n",
       "      <td>-21.180</td>\n",
       "      <td>major</td>\n",
       "      <td>0.0512</td>\n",
       "      <td>0.994</td>\n",
       "      <td>0.0218</td>\n",
       "      <td>0.212</td>\n",
       "      <td>0.457</td>\n",
       "      <td>130.418</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.00</td>\n",
       "      <td>176907</td>\n",
       "      <td>0.321</td>\n",
       "      <td>0.0946</td>\n",
       "      <td>G</td>\n",
       "      <td>-27.961</td>\n",
       "      <td>major</td>\n",
       "      <td>0.0504</td>\n",
       "      <td>0.995</td>\n",
       "      <td>0.9180</td>\n",
       "      <td>0.104</td>\n",
       "      <td>0.397</td>\n",
       "      <td>169.980</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1.00</td>\n",
       "      <td>163080</td>\n",
       "      <td>0.402</td>\n",
       "      <td>0.1580</td>\n",
       "      <td>D#</td>\n",
       "      <td>-16.900</td>\n",
       "      <td>minor</td>\n",
       "      <td>0.0390</td>\n",
       "      <td>0.989</td>\n",
       "      <td>0.1300</td>\n",
       "      <td>0.311</td>\n",
       "      <td>0.196</td>\n",
       "      <td>103.220</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   popularity  duration_ms  danceability  energy key  loudness m_mode  \\\n",
       "0        0.94       126903         0.645  0.4450   C   -13.338  major   \n",
       "1        1.00        98200         0.695  0.2630   C   -22.136  major   \n",
       "2        1.00       181640         0.434  0.1770  C#   -21.180  major   \n",
       "3        1.00       176907         0.321  0.0946   G   -27.961  major   \n",
       "4        1.00       163080         0.402  0.1580  D#   -16.900  minor   \n",
       "\n",
       "   speechiness  acousticness  instrumentalness  liveness  valence    tempo  \\\n",
       "0       0.4510         0.674            0.7440     0.151    0.127  104.851   \n",
       "1       0.9570         0.797            0.0000     0.148    0.655  102.009   \n",
       "2       0.0512         0.994            0.0218     0.212    0.457  130.418   \n",
       "3       0.0504         0.995            0.9180     0.104    0.397  169.980   \n",
       "4       0.0390         0.989            0.1300     0.311    0.196  103.220   \n",
       "\n",
       "   time_signature  \n",
       "0               3  \n",
       "1               1  \n",
       "2               5  \n",
       "3               3  \n",
       "4               4  "
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_noyr.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b20d07f2",
   "metadata": {},
   "source": [
    "It's usually standard to encode categorical variables into dummy variables before fitting them into dummy variables using pd.get_dummies() or OneHotEncoder. However, doing so for different keys would introduce twelve more features. This is not very efficient. While random forest model, which I plan top use later, can handle categorical variables, the linear regression model cannot. As such, we will encode keys into numbers 0-11 and minor and major into 0 and 1, respectively."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "e199d4ff",
   "metadata": {},
   "outputs": [],
   "source": [
    "# dfo=df_noyr.select_dtypes(include=['object'])\n",
    "# cat_col= dfo.columns.to_list()\n",
    "# num_col=[x for x in df_noyr.columns.to_list() if x not in cat_col]\n",
    "# cat_keys= ['K','M']\n",
    "# prefix_dict= dict(zip(cat_col, cat_keys))\n",
    "# df_dum=pd.get_dummies(dfo, prefix= prefix_dict)\n",
    "# categorical_features= df_dum.columns\n",
    "# df=pd.concat([df_noyr.drop(dfo, axis=1), df_dum], axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "0d8aed55",
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "keys= ['C','C#','D','D#', 'E', 'F','F#','G', 'Ab','A','Bb','B' ]\n",
    "numbers=[x for x in range(12)]\n",
    "key_dict= dict(zip(keys, numbers))\n",
    "key_dict.update({'minor':0,'major':1})\n",
    "df=df_noyr.replace(key_dict)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "5f68342c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>popularity</th>\n",
       "      <th>duration_ms</th>\n",
       "      <th>danceability</th>\n",
       "      <th>energy</th>\n",
       "      <th>key</th>\n",
       "      <th>loudness</th>\n",
       "      <th>m_mode</th>\n",
       "      <th>speechiness</th>\n",
       "      <th>acousticness</th>\n",
       "      <th>instrumentalness</th>\n",
       "      <th>liveness</th>\n",
       "      <th>valence</th>\n",
       "      <th>tempo</th>\n",
       "      <th>time_signature</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.94</td>\n",
       "      <td>126903</td>\n",
       "      <td>0.645</td>\n",
       "      <td>0.4450</td>\n",
       "      <td>0</td>\n",
       "      <td>-13.338</td>\n",
       "      <td>1</td>\n",
       "      <td>0.4510</td>\n",
       "      <td>0.674</td>\n",
       "      <td>0.7440</td>\n",
       "      <td>0.151</td>\n",
       "      <td>0.127</td>\n",
       "      <td>104.851</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1.00</td>\n",
       "      <td>98200</td>\n",
       "      <td>0.695</td>\n",
       "      <td>0.2630</td>\n",
       "      <td>0</td>\n",
       "      <td>-22.136</td>\n",
       "      <td>1</td>\n",
       "      <td>0.9570</td>\n",
       "      <td>0.797</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.148</td>\n",
       "      <td>0.655</td>\n",
       "      <td>102.009</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.00</td>\n",
       "      <td>181640</td>\n",
       "      <td>0.434</td>\n",
       "      <td>0.1770</td>\n",
       "      <td>1</td>\n",
       "      <td>-21.180</td>\n",
       "      <td>1</td>\n",
       "      <td>0.0512</td>\n",
       "      <td>0.994</td>\n",
       "      <td>0.0218</td>\n",
       "      <td>0.212</td>\n",
       "      <td>0.457</td>\n",
       "      <td>130.418</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.00</td>\n",
       "      <td>176907</td>\n",
       "      <td>0.321</td>\n",
       "      <td>0.0946</td>\n",
       "      <td>7</td>\n",
       "      <td>-27.961</td>\n",
       "      <td>1</td>\n",
       "      <td>0.0504</td>\n",
       "      <td>0.995</td>\n",
       "      <td>0.9180</td>\n",
       "      <td>0.104</td>\n",
       "      <td>0.397</td>\n",
       "      <td>169.980</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1.00</td>\n",
       "      <td>163080</td>\n",
       "      <td>0.402</td>\n",
       "      <td>0.1580</td>\n",
       "      <td>3</td>\n",
       "      <td>-16.900</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0390</td>\n",
       "      <td>0.989</td>\n",
       "      <td>0.1300</td>\n",
       "      <td>0.311</td>\n",
       "      <td>0.196</td>\n",
       "      <td>103.220</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   popularity  duration_ms  danceability  energy  key  loudness  m_mode  \\\n",
       "0        0.94       126903         0.645  0.4450    0   -13.338       1   \n",
       "1        1.00        98200         0.695  0.2630    0   -22.136       1   \n",
       "2        1.00       181640         0.434  0.1770    1   -21.180       1   \n",
       "3        1.00       176907         0.321  0.0946    7   -27.961       1   \n",
       "4        1.00       163080         0.402  0.1580    3   -16.900       0   \n",
       "\n",
       "   speechiness  acousticness  instrumentalness  liveness  valence    tempo  \\\n",
       "0       0.4510         0.674            0.7440     0.151    0.127  104.851   \n",
       "1       0.9570         0.797            0.0000     0.148    0.655  102.009   \n",
       "2       0.0512         0.994            0.0218     0.212    0.457  130.418   \n",
       "3       0.0504         0.995            0.9180     0.104    0.397  169.980   \n",
       "4       0.0390         0.989            0.1300     0.311    0.196  103.220   \n",
       "\n",
       "   time_signature  \n",
       "0               3  \n",
       "1               1  \n",
       "2               5  \n",
       "3               3  \n",
       "4               4  "
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2f46e109",
   "metadata": {},
   "source": [
    "Let's split the data into training and testing sets."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "3c6101f4",
   "metadata": {},
   "outputs": [],
   "source": [
    "X= df.drop('popularity', axis=1)\n",
    "y= df['popularity']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "49b547df",
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train, X_test, y_train, y_test= train_test_split(X, y,test_size=0.3, random_state=12)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "53156644",
   "metadata": {},
   "source": [
    "### Dummy Regressor"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "18145144",
   "metadata": {},
   "source": [
    "Let's explore different models we can predict popularity by. A good starting point would be to see how good the mean would be as a predictor. DummyRegressor can do just that."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "e1ba1510",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.7242075876007502"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "train_mean= y_train.mean()\n",
    "train_mean"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "0fbe60a0",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0.72420759]])"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dumb_reg= DummyRegressor(strategy='mean')\n",
    "dumb_reg.fit(X_train, y_train)\n",
    "dumb_reg.constant_"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d1b8247d",
   "metadata": {},
   "source": [
    "It comes pretty close for now, but how good is this? We'll see how closely this explains the actual values. There are many metrics we can use to do this. We will try different metrics to choose which one works best for our specific scenario."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "48199636",
   "metadata": {},
   "source": [
    "## Metrics\n",
    "\n",
    "**1. Coefficient of determination ($R^{2}$):**\n",
    "<br> We will make predictions by creating length of size of training set with the single value of the mean."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "e6827d38",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0.72420759, 0.72420759, 0.72420759, 0.72420759, 0.72420759])"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_tr_pred_ = train_mean* np.ones(len(y_train))\n",
    "y_tr_pred_[:5]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "b7acd28f",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0.72420759, 0.72420759, 0.72420759, 0.72420759, 0.72420759])"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_tr_pred= dumb_reg.predict(X_train)\n",
    "y_tr_pred[:5]"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f1e97145",
   "metadata": {},
   "source": [
    "They produce exactly same results. Let's find out ($R^{2}$) score."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "36afd2f3",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.0"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "r2_score(y_train, y_tr_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ec9a3d5e",
   "metadata": {},
   "source": [
    "We got $R^{2}$ score of 0 on our training set when we used mean as a predictor. $R^{2}$ explains predictions in terms of the amount of variance. Low $R^{2}$ score suggests small amount of variances explainedn. Let's try this on our test set. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "6dd38988",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-2.7860038049887237e-06"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_te_pred= train_mean*np.ones(len(y_test))\n",
    "r2_score(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "0c771dfb",
   "metadata": {},
   "source": [
    "This negative number was expected, because most models perform worse on test sets than on training sets."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f82f78f5",
   "metadata": {},
   "source": [
    "**2.Mean Absolute Error (MAE)**\n",
    "<br>\n",
    "MAE tells us how much we expect to be off by if we guessed based on the average of known values."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "112a9959",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.15273271501104796, 0.15256245797348303)"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mean_absolute_error(y_train, y_tr_pred), mean_absolute_error(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9104ce9c",
   "metadata": {},
   "source": [
    "MAE on testing set is very slightly worse than on training data, but they are very similar."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "fd85646f",
   "metadata": {},
   "source": [
    "**3.Mean Squared Error (MSE)**\n",
    "<br>Mean squared error is the average of square of errors."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "b989737b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.03378082909186704, 0.033671402410826695)"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mean_squared_error(y_train, y_tr_pred), mean_squared_error(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e48cec88",
   "metadata": {},
   "source": [
    "While it was pretty obvious from $R^{2}$ score that a simple average would not be the best model, it was worth double (or triple) checking it using different metrics. "
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c1f734c8",
   "metadata": {},
   "source": [
    "## Initial Models:"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "564edfe7",
   "metadata": {},
   "source": [
    "Let's build pipelines to simplify processes. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "3c7d2913",
   "metadata": {},
   "outputs": [],
   "source": [
    "pipe = make_pipeline(\n",
    "    StandardScaler(), \n",
    "    LinearRegression()\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "174f8607",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "sklearn.pipeline.Pipeline"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "type(pipe)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "53af0707",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(True, True)"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "hasattr(pipe, 'fit'), hasattr(pipe, 'predict')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "cc1b9a16",
   "metadata": {},
   "source": [
    "Let's try fitting, making predictions, and evaluating performance using this pipeline."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "0c056df5",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Pipeline(steps=[('standardscaler', StandardScaler()),\n",
       "                ('linearregression', LinearRegression())])"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pipe.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "38192911",
   "metadata": {},
   "outputs": [],
   "source": [
    "y_tr_pred= pipe.predict(X_train)\n",
    "y_te_pred= pipe.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "c80da551",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.21099224863813804, 0.21014872769257076)"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "r2_score(y_train, y_tr_pred), r2_score(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2e0af42b",
   "metadata": {},
   "source": [
    "Given the number of features, it is possible that I am overfitting. As such, I will limit number of features that get used based on f_regression."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "c458aa32",
   "metadata": {},
   "outputs": [],
   "source": [
    "pipe = make_pipeline(\n",
    "    StandardScaler(), \n",
    "    SelectKBest(f_regression, k=7),\n",
    "    LinearRegression()\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "9886248f",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Pipeline(steps=[('standardscaler', StandardScaler()),\n",
       "                ('selectkbest',\n",
       "                 SelectKBest(k=7,\n",
       "                             score_func=<function f_regression at 0x7fd7a3efde50>)),\n",
       "                ('linearregression', LinearRegression())])"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pipe.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "8de99d56",
   "metadata": {},
   "outputs": [],
   "source": [
    "y_tr_pred = pipe.predict(X_train)\n",
    "y_te_pred = pipe.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "id": "1e41fd39",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.18447970498272614, 0.18438365485652708)"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "r2_score(y_train, y_tr_pred), r2_score(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "id": "0aef2356",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.13504393516431595, 0.13486964780681085)"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mean_absolute_error(y_train, y_tr_pred), mean_absolute_error(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a37562cb",
   "metadata": {},
   "source": [
    "We see that our model performance got much worse than when we didn't limit features. This was an expected result of limiting feature numbers. Let's try to include more."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "id": "0057674e",
   "metadata": {},
   "outputs": [],
   "source": [
    "pipe10 = make_pipeline(\n",
    "    StandardScaler(),\n",
    "    SelectKBest(f_regression, k=10),\n",
    "    LinearRegression()\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "id": "c8df7f41",
   "metadata": {},
   "outputs": [],
   "source": [
    "y_tr_pred = pipe.predict(X_train)\n",
    "y_te_pred = pipe.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "id": "59101fe2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.18447970498272614, 0.18438365485652708)"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "r2_score(y_train, y_tr_pred), r2_score(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "f90de14b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.13504393516431595, 0.13486964780681085)"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mean_absolute_error(y_train, y_tr_pred), mean_absolute_error(y_test, y_te_pred)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4c86fe36",
   "metadata": {},
   "source": [
    "It didn't make too much of a difference. Let's try to use cross-validation to assess model performance."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "id": "e7b1a73a",
   "metadata": {},
   "outputs": [],
   "source": [
    "cv_results= cross_validate(pipe10, X_train, y_train, cv=5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "8c9958c0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0.18792245, 0.18623416, 0.18802971, 0.18395521, 0.18729105])"
      ]
     },
     "execution_count": 38,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cv_scores= cv_results['test_score']\n",
    "cv_scores"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "id": "e01859c5",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.1866865155935417, 0.0015074373969763799)"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.mean(cv_scores), np.std(cv_scores)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8bb5a0ac",
   "metadata": {},
   "source": [
    "We can estimate the variability, or uncertainty of model performance."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "id": "b0fbe91a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0.18, 0.19])"
      ]
     },
     "execution_count": 40,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.round((np.mean(cv_scores) - 2 * np.std(cv_scores), np.mean(cv_scores) + 2 * np.std(cv_scores)), 2)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "eae6c7cd",
   "metadata": {},
   "source": [
    "### Hyperparameter search using GridSearchCV"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "id": "ea3bdb80",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "dict_keys(['memory', 'steps', 'verbose', 'standardscaler', 'selectkbest', 'linearregression', 'standardscaler__copy', 'standardscaler__with_mean', 'standardscaler__with_std', 'selectkbest__k', 'selectkbest__score_func', 'linearregression__copy_X', 'linearregression__fit_intercept', 'linearregression__n_jobs', 'linearregression__normalize', 'linearregression__positive'])"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pipe.get_params().keys()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "id": "68534b63",
   "metadata": {},
   "outputs": [],
   "source": [
    "k = [k+1 for k in range(len(X_train.columns))]\n",
    "grid_params = {'selectkbest__k': k}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "id": "7c3dc902",
   "metadata": {},
   "outputs": [],
   "source": [
    "lr_grid_cv = GridSearchCV(pipe, param_grid=grid_params, cv=5, n_jobs=-1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "id": "8a8a0d48",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=5,\n",
       "             estimator=Pipeline(steps=[('standardscaler', StandardScaler()),\n",
       "                                       ('selectkbest',\n",
       "                                        SelectKBest(k=7,\n",
       "                                                    score_func=<function f_regression at 0x7fd7a3efde50>)),\n",
       "                                       ('linearregression',\n",
       "                                        LinearRegression())]),\n",
       "             n_jobs=-1,\n",
       "             param_grid={'selectkbest__k': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,\n",
       "                                            12, 13]})"
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lr_grid_cv.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "id": "392d4275",
   "metadata": {},
   "outputs": [],
   "source": [
    "score_mean = lr_grid_cv.cv_results_['mean_test_score']\n",
    "score_std = lr_grid_cv.cv_results_['std_test_score']\n",
    "cv_k = [k for k in lr_grid_cv.cv_results_['param_selectkbest__k']]\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "id": "e83fa511",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'selectkbest__k': 13}"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lr_grid_cv.best_params_"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "id": "8d467a2c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0.5, 1.0, 'Pipeline mean CV score (error bars +/- 1sd)')"
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAA1cAAAHUCAYAAADWedKvAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjYuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8o6BhiAAAACXBIWXMAAA9hAAAPYQGoP6dpAAByzUlEQVR4nO3deVhUZf/H8c8wMKyCC4u4gTvuC+aapaW4VVpPZVmWZYtlC2mLZqtPaavLr9Ky1LLS7MmyzUoqS0tLI7e03FFSXNAEBdlmzu+P0VEEjcHBw8D7dV3n8nDPWT7DDDhf7vvcx2IYhiEAAAAAwDnxMTsAAAAAAFQEFFcAAAAA4AEUVwAAAADgARRXAAAAAOABFFcAAAAA4AEUVwAAAADgARRXAAAAAOABFFcAAAAA4AEUVwAAAADgARRXADzq7bfflsVicS2+vr6qU6eObrnlFu3evdu13bBhwxQbG1vmeSwWi5566inX1z/88IMsFot++OGHMj93ZZGZmalnn31WHTp0UGhoqPz9/RUbG6tbb71Vv//+uyTpyiuvVGBgoA4fPnzG49xwww3y8/PTvn37zlNyc+Xn5ysuLk7PPfec2VHOWWxsrC677DKzY5S5q666SgMHDizVvlOmTNFVV12l+vXry2KxqEePHp4NJ+frMGzYMNfX3333nUJCQgr97gVQtiiuAJSJ2bNna8WKFUpKStLtt9+uefPmqXv37srKypIkPf744/rkk0/Oe6727dtrxYoVat++/Xk/d0W0bds2tWvXTs8995x69uypefPmafHixXr66ae1b98+xcfHKyMjQ8OHD1dOTo7mzp1b7HEyMjL0ySef6LLLLlNUVNR5fhbmmDZtmv755x/de++9ZkdBCWRlZenrr7/Wf/7zn1Lt//rrr2vnzp265JJLFBER4eF0xbv00kvVsWNHPfroo+flfAAkX7MDAKiYWrZsqQ4dOkiSevbsKbvdrv/+979auHChbrjhBjVs2NCUXKGhoercubMp565o7Ha7rrzySqWnp2vFihVq2bKl67GLL75YN998s7766iv5+fmpX79+qlWrlmbNmqW77767yLHmzZunY8eOafjw4efzKZTKsWPHFBgYeE7HKCgo0Isvvqhbb71VwcHBHsmVn5/v6i0+XXZ2toKCgkp9bMMwlJOTc87P+1yURYa3335bt9xyiwzD+NdtFy1apIKCAl1++eWlOtfGjRvl4+P8m/apPytlbeTIkRo8eLCeeeYZ1a1b97ydF6is6LkCcF6cKGh27twpqfhhgRaLRffcc4/eeOMNNWnSRP7+/mrevLk++OCDIsfbu3ev7rzzTtWpU0c2m03169fX008/rYKCgrPmKG5Y4LBhwxQSEqKtW7eqf//+CgkJUd26dTV69Gjl5uYW2j8vL0/PPPOM4uLi5O/vr4iICN1yyy06cODAv34PTpznr7/+Up8+fRQcHKzo6GjXsLBffvlFF154oYKDg9WkSRO98847pX7eTz/9tDp16qTq1asrNDRU7du318yZM4t8iDwxnOvrr79W+/btFRgYqLi4OM2aNetfn8/ChQu1fv16jR079owfFvv166egoCBZrVbdfPPNSk5O1vr164tsN3v2bEVHR6tfv35nPef333+vHj16qEaNGgoMDFS9evX0n//8R9nZ2a5tcnNzNX78eDVr1kwBAQGqUaOGevbsqeXLl7u2ycnJ0dixY1W/fn3ZbDbVrl1bI0eOLDJs8cT35+OPP1a7du0UEBCgp59+WlLp34OS9Nlnn2n37t0aOnRokce2bNmiIUOGKDIyUv7+/mrWrJlee+21QtuceB+/++67Gj16tGrXri1/f39t3brV9T5bv369EhISVKVKFV166aWSpEOHDunuu+9W7dq1ZbPZ1KBBA40bN67I+/zEz+Lrr7+uZs2ayd/fv9j34+k++eQTtW7dWgEBAWrQoIH+7//+r9DjOTk5Gj16tNq2bauwsDBVr15dXbp00aefflrkWGfLMH36dLVp00YhISGqUqWK4uLiyrx3ZsGCBbrkkktUrVq1Uu1/orD6N9u3b9d1112nWrVqyd/fX1FRUbr00ku1Zs0a1zb5+fl6+OGHVbNmTQUFBenCCy/UypUriz3e5ZdfrpCQEL355pulyg3APfRcATgvtm7dKkn/Ohzms88+05IlSzR+/HgFBwdr2rRpuv766+Xr66urr75akvNDbceOHeXj46MnnnhCDRs21IoVK/TMM88oJSVFs2fPdjtffn6+rrjiCg0fPlyjR4/W0qVL9d///ldhYWF64oknJEkOh0MDBw7UsmXL9PDDD6tr167auXOnnnzySfXo0UO//fbbv/5VPT8/X1dddZVGjBihhx56SHPnztXYsWOVmZmpBQsW6JFHHlGdOnX0yiuvaNiwYWrZsqXi4+Pdft4pKSm68847Va9ePUnOwu3ee+/V7t27Xc/nhLVr12r06NEaM2aMoqKi9NZbb2n48OFq1KiRLrroojM+l8WLF0uSBg0aVKLv8a233qrnnntOs2bN0uTJk13tGzdu1MqVKzVmzBhZrdYz7p+SkqIBAwaoe/fumjVrlqpWrardu3fr66+/Vl5enoKCglRQUKB+/fpp2bJlSkxM1CWXXKKCggL98ssv2rVrl7p27SrDMDRo0CB99913Gjt2rLp3765169bpySef1IoVK7RixQr5+/u7zvv777/rzz//1GOPPab69esrODj4nN+DX375pSIjI9W8efNC7Rs3blTXrl1Vr149vfzyy6pZs6a++eYb3XfffUpPT9eTTz5ZaPuxY8eqS5cuev311+Xj46PIyEhJzj8CXHHFFbrzzjs1ZswYFRQUKCcnRz179tS2bdv09NNPq3Xr1lq2bJkmTpyoNWvW6Msvvyx07IULF2rZsmV64oknVLNmTdexz2TNmjVKTEzUU089pZo1a+r999/X/fffr7y8PD344IOSnIXvoUOH9OCDD6p27drKy8vTt99+q6uuukqzZ8/WTTfd9K8ZPvjgA919992699579dJLL8nHx0dbt27Vxo0bz5rvXOTk5OjLL7/UpEmTyuwcJ/Tv3192u10vvPCC6tWrp/T0dC1fvrxQ4X/77bdrzpw5evDBB9W7d2/98ccfuuqqq3TkyJEix7PZbOratau+/PJLjR8/vszzA5WeAQAeNHv2bEOS8csvvxj5+fnGkSNHjC+++MKIiIgwqlSpYuzdu9cwDMO4+eabjZiYmEL7SjICAwNd2xiGYRQUFBhxcXFGo0aNXG133nmnERISYuzcubPQ/i+99JIhydiwYUOhYz755JOur5csWWJIMpYsWeJqu/nmmw1JxocffljoeP379zeaNm3q+nrevHmGJGPBggWFtlu1apUhyZg2bdpZvzcnznPq/vn5+UZERIQhyfj9999d7QcPHjSsVqsxatSoUj3vU9ntdiM/P98YP368UaNGDcPhcLgei4mJMQICAgod89ixY0b16tWNO++886zPp2/fvoYkIycn56zbneriiy82wsPDjby8PFfb6NGjDUnG5s2bz7rvRx99ZEgy1qxZc8Zt5syZY0gy3nzzzTNu8/XXXxuSjBdeeKFQ+/z58w1JxowZM1xtMTExhtVqNTZt2lRo29K+Fic0a9bM6Nu3b5H2Pn36GHXq1DEyMjIKtd9zzz1GQECAcejQIcMwTr6PL7rooiLHOPE+mzVrVqH2119/vdj3+fPPP29IMhYvXuxqk2SEhYW5zvdvYmJiDIvFUuS16d27txEaGmpkZWUVu19BQYGRn59vDB8+3GjXrl2hx86U4Z577jGqVq1aolxnOt+JZebMmYakQm35+fmG3W4vtN/ChQsNq9Vq7N+/v1TnPV2LFi2Miy++uEh7enq6IcmYMmXKGff9888/DUnGAw88UKj9/fffNyQZN998c5F9xo0bZ/j4+BhHjx491+gA/gXDAgGUic6dO8vPz09VqlTRZZddppo1a+qrr77618kKLr300kLbWK1WDR48WFu3btXff/8tSfriiy/Us2dP1apVSwUFBa7lxJCyH3/80e28FoulyLUUrVu3dg1jPHHeqlWr6vLLLy903rZt26pmzZolmoHQYrGof//+rq99fX3VqFEjRUdHq127dq726tWrKzIyssj5S/q8v//+e/Xq1UthYWGyWq3y8/PTE088oYMHD2r//v2FMrVt29bVwyVJAQEBatKkSaFze8rw4cOVnp6uzz77TJLz2qP33ntP3bt3V+PGjc+6b9u2bWWz2XTHHXfonXfe0fbt24ts89VXXykgIEC33nrrGY/z/fffS1KhWdUk6ZprrlFwcLC+++67Qu2tW7dWkyZNCrWd63twz549RXqCcnJy9N133+nKK6909cKdWPr376+cnBz98ssvhfY52+QKpz/2/fffKzg42NUDfMKJ78Ppz9vdIXAtWrRQmzZtCrUNGTJEmZmZrlkjJel///ufunXrppCQEPn6+srPz08zZ87Un3/+WeSYxWXo2LGjDh8+rOuvv16ffvqp0tPTS5yxYcOG8vPzcy0nrvE7tc3Pz69ID8+CBQvUvXt3V8+7YRiFXp+SDAUtierVq6thw4Z68cUXNWnSJK1evVoOh6PQNkuWLJHknF3zVNdee22x19tJUmRkpBwOh/bu3euRnADOjOIKQJmYM2eOVq1apdWrV2vPnj1at26dunXr9q/71axZ84xtBw8elCTt27dPn3/+eZEPRC1atJAktz5snRAUFKSAgIBCbf7+/srJyXF9vW/fPh0+fFg2m63Iuffu3Vui8xZ3HpvNpurVqxfZ1mazFTl/SZ73ypUrlZCQIEl688039fPPP2vVqlUaN26cJOeEDKeqUaNGkXP7+/sX2e50JwqyHTt2nHW7U1199dUKCwtzDZtbtGiR9u3bV6KJLBo2bKhvv/1WkZGRGjlypBo2bKiGDRtq6tSprm0OHDigWrVqnfX6loMHD8rX17fIEFWLxaKaNWu63mcnREdHFznGub4Hjx07VuR9cPDgQRUUFOiVV14pctwTBfnpxy0um+R8n4WGhhY5fs2aNWWxWAq1R0ZGytfXt0TP+2xK8rP78ccf69prr1Xt2rX13nvvacWKFVq1apVuvfXWQu/1s2UYOnSoZs2apZ07d+o///mPIiMj1alTJyUlJf1rxs8//1yrVq1yLSeGWZ7atmrVKt1xxx2uffLz8/X5558XKlZ//PHHIq9RSkrKv57/31gsFn333Xfq06ePXnjhBbVv314RERG67777XEP+TnwvT/9++/r6FvuzLMn1Xvu3n2kA545rrgCUiWbNmrlmC3RHcX9ZPdF24oNDeHi4WrdurWeffbbYY9SqVcvt85ZEeHi4atSooa+//rrYx6tUqVIm5z31/CV53h988IH8/Pz0xRdfFPoAv3DhQo/m6dOnj2bMmKGFCxdqzJgxJdonMDBQ119/vd58802lpaVp1qxZqlKliq655poS7d+9e3d1795ddrtdv/32m1555RUlJiYqKipK1113nSIiIvTTTz/J4XCcscCqUaOGCgoKdODAgUIFlmEY2rt3ry644IJC259ejEjn/h4MDw/XoUOHCrVVq1ZNVqtVQ4cO1ciRI4vdr379+v+a7UztNWrU0K+//irDMAo9vn//fhUUFCg8PLxExz6Tkvzsvvfee6pfv77mz59f6PinT6jxbxluueUW3XLLLcrKytLSpUv15JNP6rLLLtPmzZsVExNzxoytWrUq9PUff/whSWf9XfXtt98qIyNDV155pastPj5eq1atKrSdp37vxMTEaObMmZKkzZs368MPP9RTTz2lvLw8vf76667v5d69e1W7dm3XfgUFBUUK5BNOvNdOf40BeB7FFYBy5bvvvtO+fftcQwPtdrvmz5+vhg0bqk6dOpKkyy67TIsWLVLDhg1LPXNXaVx22WX64IMPZLfb1alTp/N23lPPX5LnfWI67lMnhzh27Jjeffddj+YZOHCgWrVqpYkTJ+qyyy4rdsbAb775Rt27dy80Dfjw4cP1+uuv68UXX9SiRYs0bNgwt6cJt1qt6tSpk+Li4vT+++/r999/13XXXad+/fpp3rx5evvtt884NPDSSy/VCy+8oPfee08PPPCAq33BggXKyspyzax3Nuf6HoyLi9O2bdsKtQUFBalnz55avXq1WrduLZvN5vZxz+bSSy/Vhx9+qIULFxYqFObMmeN6/Fxs2LBBa9euLTQ0cO7cuapSpYrrvnIWi0U2m61Q0bR3795iZwssieDgYPXr1095eXkaNGiQNmzYcNbiqjQWLFigzp07FypkqlSpUqo/HrmrSZMmeuyxx7RgwQLX0MoTNx9+//33XZPdSNKHH354xuGJ27dvV40aNSrNPeQAM1FcAShXwsPDdckll+jxxx93zRb4119/FZqOffz48UpKSlLXrl113333qWnTpsrJyVFKSooWLVqk119/3VWIedJ1112n999/X/3799f999+vjh07ys/PT3///beWLFmigQMHFvrQ6mklfd4DBgzQpEmTNGTIEN1xxx06ePCgXnrppUIz4HmC1WrVJ598ooSEBHXp0kV33XWXevbsqeDgYO3cuVMfffSRPv/8c/3zzz+F9uvQoYNat26tKVOmyDCMEt/b6vXXX9f333+vAQMGqF69esrJyXFNGd+rVy9J0vXXX6/Zs2drxIgR2rRpk3r27CmHw6Fff/1VzZo103XXXafevXurT58+euSRR5SZmalu3bq5Zgts165dsdOjn+5c34M9evTQ+PHji9x/aurUqbrwwgvVvXt33XXXXYqNjdWRI0e0detWff75567rxUrjpptu0muvvaabb75ZKSkpatWqlX766SdNmDBB/fv3d30PS6tWrVq64oor9NRTTyk6OlrvvfeekpKS9Pzzz7ue44lp7e+++25dffXVSk1N1X//+19FR0dry5YtJTrP7bffrsDAQHXr1k3R0dHau3evJk6cqLCwsCK9jufKbrfr008/LXHP7Nn89ttvrqGDmZmZMgxDH330kSTpggsuUExMjNatW6d77rlH11xzjRo3biybzabvv/9e69atc2Vo1qyZbrzxRk2ZMkV+fn7q1auX/vjjD7300ktFhoKe8Msvv+jiiy92uzcSQCmYOp0GgArnxGyBq1atOut2Z5otcOTIkca0adOMhg0bGn5+fkZcXJzx/vvvF9n/wIEDxn33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\n",
      "text/plain": [
       "<Figure size 1000x500 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "best_k = lr_grid_cv.best_params_['selectkbest__k']\n",
    "plt.subplots(figsize=(10, 5))\n",
    "plt.errorbar(cv_k, score_mean, yerr=score_std)\n",
    "plt.axvline(x=best_k, c='r', ls='--', alpha=.5)\n",
    "plt.xlabel('k')\n",
    "plt.ylabel('CV score (r-squared)')\n",
    "plt.title('Pipeline mean CV score (error bars +/- 1sd)')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "id": "5def58cb",
   "metadata": {},
   "outputs": [],
   "source": [
    "selected = lr_grid_cv.best_estimator_.named_steps.selectkbest.get_support()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "id": "d8d4c967",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "acousticness        0.043373\n",
       "valence             0.036755\n",
       "instrumentalness    0.025139\n",
       "liveness            0.007203\n",
       "speechiness         0.005930\n",
       "m_mode              0.000706\n",
       "key                -0.000478\n",
       "time_signature     -0.000583\n",
       "duration_ms        -0.000887\n",
       "tempo              -0.002712\n",
       "energy             -0.006285\n",
       "loudness           -0.025807\n",
       "danceability       -0.030054\n",
       "dtype: float64"
      ]
     },
     "execution_count": 49,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "coefs= lr_grid_cv.best_estimator_.named_steps.linearregression.coef_\n",
    "features= X_train.columns[selected]\n",
    "pd.Series(coefs, index= features).sort_values(ascending= False)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8bdf1ceb",
   "metadata": {},
   "source": [
    "We see that the most positive features were musical modes. We also see that the most positive numerical feature was acousticness. This differs from our EDA, which showed slight preference to non-acousticness. Let's try a different model."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7fd3c1ce",
   "metadata": {},
   "source": [
    "### Random Forest Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "id": "f2329807",
   "metadata": {},
   "outputs": [],
   "source": [
    "RF_pipe= make_pipeline(\n",
    "    StandardScaler(),\n",
    "    RandomForestRegressor(random_state= 47))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "id": "70599fa4",
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_default_cv_results= cross_validate(RF_pipe, X_train, y_train, cv=5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "id": "e6a99d8e",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0.37075512, 0.36599628, 0.37101582, 0.36930913, 0.37068201])"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "rf_cv_scores= rf_default_cv_results['test_score']\n",
    "rf_cv_scores"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "id": "5c07ea8b",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(0.3695516728956328, 0.0018745303687419184)"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.mean(rf_cv_scores), np.std(rf_cv_scores)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2e2f80e7",
   "metadata": {},
   "source": [
    "### Hyperparameter Tuning Using Bayesian Optimization"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "id": "e90e78eb",
   "metadata": {},
   "outputs": [],
   "source": [
    "def rf_eval():\n",
    "    params = {\n",
    "        \"n_estimators\":int(n_estimators), \n",
    "        \"min_samples_split\":int(min_samples_split), \n",
    "        \"max_features\":int(max_features), \n",
    "        \"bootstrap\": True\n",
    "    }\n",
    "    rf_train = RF_pipe(X_train, y_train)\n",
    "    cv_results= cross_validate(RF_pipe, X_train, y_train, cv=5)\n",
    "    \n",
    "    return cv_result['auc-mean'][-1]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "id": "d881cd9d",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "|   iter    |  target   | max_depth | max_fe... | min_sa... | n_esti... |\n",
      "-------------------------------------------------------------------------\n"
     ]
    },
    {
     "ename": "TypeError",
     "evalue": "rf_eval() got an unexpected keyword argument 'max_depth'",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
      "\u001b[0;32m/var/folders/z9/t15ddpld70nc5qf41442lpr80000gn/T/ipykernel_690/3488347640.py\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      6\u001b[0m     })\n\u001b[1;32m      7\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 8\u001b[0;31m \u001b[0mrf_BO\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmaximize\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mn_iter\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0minit_points\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m2\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m~/opt/anaconda3/lib/python3.9/site-packages/bayes_opt/bayesian_optimization.py\u001b[0m in \u001b[0;36mmaximize\u001b[0;34m(self, init_points, n_iter, acquisition_function, acq, kappa, kappa_decay, kappa_decay_delay, xi, **gp_params)\u001b[0m\n\u001b[1;32m    309\u001b[0m                 \u001b[0mx_probe\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msuggest\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mutil\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    310\u001b[0m                 \u001b[0miteration\u001b[0m \u001b[0;34m+=\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 311\u001b[0;31m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mprobe\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mx_probe\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlazy\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mFalse\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    312\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    313\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_bounds_transformer\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0miteration\u001b[0m \u001b[0;34m>\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/opt/anaconda3/lib/python3.9/site-packages/bayes_opt/bayesian_optimization.py\u001b[0m in \u001b[0;36mprobe\u001b[0;34m(self, params, lazy)\u001b[0m\n\u001b[1;32m    206\u001b[0m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_queue\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0madd\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mparams\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    207\u001b[0m         \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 208\u001b[0;31m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_space\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mprobe\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mparams\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    209\u001b[0m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mdispatch\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mEvents\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mOPTIMIZATION_STEP\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    210\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m~/opt/anaconda3/lib/python3.9/site-packages/bayes_opt/target_space.py\u001b[0m in \u001b[0;36mprobe\u001b[0;34m(self, params)\u001b[0m\n\u001b[1;32m    234\u001b[0m         \u001b[0mx\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_as_array\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mparams\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    235\u001b[0m         \u001b[0mparams\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdict\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mzip\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_keys\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mx\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 236\u001b[0;31m         \u001b[0mtarget\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtarget_func\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0mparams\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    237\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    238\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_constraint\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mTypeError\u001b[0m: rf_eval() got an unexpected keyword argument 'max_depth'"
     ]
    }
   ],
   "source": [
    "rf_BO = BayesianOptimization(rf_eval,{\n",
    "        \"n_estimators\":(300, 2000), \n",
    "        \"min_samples_split\":(20,100), \n",
    "        \"max_depth\":(3,7), \n",
    "        \"max_features\":(5,13), \n",
    "    })\n",
    "\n",
    "rf_BO.maximize(n_iter=10, init_points=2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "0d13f425",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "bf0afd46",
   "metadata": {},
   "source": [
    "### Gradient Boosting Model Using Bayesian Optimization"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "4e677fd9",
   "metadata": {},
   "outputs": [],
   "source": [
    "def gbm_cl_bo(max_depth, max_features, learning_rate, n_estimators, subsample):\n",
    "    params_gbm = {}\n",
    "    params_gbm['max_depth'] = round(max_depth)\n",
    "    params_gbm['max_features'] = max_features\n",
    "    params_gbm['learning_rate'] = learning_rate\n",
    "    params_gbm['n_estimators'] = round(n_estimators)\n",
    "    params_gbm['subsample'] = subsample\n",
    "    scores = cross_validate(GradientBoostingRegressor(random_state=123, **params_gbm),\n",
    "                             X_train, y_train, cv=5)\n",
    "    \n",
    "    return scores\n",
    "# Run Bayesian Optimization\n",
    "\n",
    "params_gbm ={\n",
    "    'max_depth':(3, 10),\n",
    "    'max_features':(0.8, 1),\n",
    "    'learning_rate':(0.01, 1),\n",
    "    'n_estimators':(80, 150),\n",
    "    'subsample': (0.8, 1)\n",
    "}\n",
    "gbm_bo = BayesianOptimization(gbm_cl_bo, params_gbm, random_state=111)\n",
    "gbm_bo.maximize(init_points=20, n_iter=4)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "e3fa9ca6",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "168da611",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "80d2e044",
   "metadata": {},
   "outputs": [],
   "source": [
    "n_est = [int(n) for n in np.logspace(start=1, stop=3, num=20)]\n",
    "grid_params = {\n",
    "        'randomforestregressor__n_estimators': n_est,\n",
    "        'standardscaler': [StandardScaler(), None],\n",
    "}\n",
    "grid_params"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "cc0294e1",
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_rand_cv= RandomizedSearchCV(RF_pipe, param_distributions= grid_params, cv=5, n_jobs= -1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "7c32dfd5",
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_rand_cv.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "8fde8bea",
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_rand_cv.best_params_"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "ef61bf70",
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_best_cv_results = cross_validate(rf_rand_cv.best_estimator_, X_train, y_train, cv=5)\n",
    "rf_best_scores = rf_best_cv_results['test_score']\n",
    "rf_best_scores"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "874aeb53",
   "metadata": {},
   "outputs": [],
   "source": [
    "np.mean(rf_best_scores), np.std(rf_best_scores)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "219ceb70",
   "metadata": {},
   "outputs": [],
   "source": [
    "plt.subplots(figsize=(10,5))\n",
    "imps= rf_rand_cv.best_estimator_.named_steps.randomforestregressor.feature_importances_\n",
    "rf_feat_imps= pd.Series(imps, index=X_train.columns).sort_values(ascending = False)\n",
    "rf_feat_imps.plot(kind='bar')\n",
    "plt.xlabel('features')\n",
    "plt.ylabel('importance')\n",
    "plt.title('Best random forest regressor feature importances')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f44ef48a",
   "metadata": {},
   "source": [
    "## Final Model Selection"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "7fbce81d",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "99b9a1b8",
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train.to_csv('X_train.csv', index=False)\n",
    "X_test.to_csv('X_test.csv', index=False)\n",
    "y_train.to_csv('y_train.csv', index=False)\n",
    "y_test.to_csv('y_test.csv', index=False)"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.12"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
